document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("contactForm"),e=document.getElementById("success-message"),t=document.getElementById("error-message"),c="6281945967926";s&&s.addEventListener("submit",function(e){e.preventDefault();const u=document.getElementById("first-name").value.trim(),h=document.getElementById("last-name").value.trim(),o=document.getElementById("email").value.trim(),i=document.getElementById("subject").value.trim(),d=document.getElementById("message").value.trim();if(!o||!d){r("Email dan Pesan harus diisi!");return}if(!a(o)){r("Format email tidak valid!");return}const m=[u,h].filter(e=>e).join(" ")||"Calon Client";let t=`*PESAN BARU DARI WEBSITE TAJAWAZ SOLUTIONS*

`;t+=`â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

`,t+=`ðŸ‘¤ *Nama:*
${m}

`,t+=`ðŸ“§ *Email:*
${o}

`,i&&(t+=`ðŸ“Œ *Subjek:*
${i}

`),t+=`ðŸ’¬ *Pesan:*
${d}

`,t+=`â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

`,t+=`_Dikirim melalui Form Kontak Website_
`,t+=`_${(new Date).toLocaleString("id-ID",{dateStyle:"long",timeStyle:"short",timeZone:"Asia/Jakarta"})}_`;const f=encodeURIComponent(t),p=`https://wa.me/${c}?text=${f}`;l(),setTimeout(()=>{window.open(p,"_blank"),setTimeout(()=>{s.reset(),n()},1e3)},3e3)});function a(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)}function l(){n(),e&&(e.classList.remove("hidden"),e.classList.add("success","alert"),e.style.display="flex",e.innerHTML=`
        <span class="check-icon"><i class="fa-solid fa-circle-check"></i></span>
        <p style="margin: 0; font-size: var(--font-size-lg); font-weight: var(--font-weight-semibold); text-align: center; line-height: 1.6; color: var(--accent-color-2);">
          Berhasil! Pesan Anda sedang disiapkan...<br>
          <span style="font-size: var(--font-size-sm); font-weight: var(--font-weight-normal); opacity: 0.95;">
            Anda akan diarahkan ke WhatsApp dalam 3 detik
          </span>
        </p>
      `,e.scrollIntoView({behavior:"smooth",block:"center"}))}function r(e){n(),t&&(t.classList.remove("hidden"),t.classList.add("error","alert"),t.style.display="flex",t.innerHTML=`
        <span class="cross-icon"><i class="fa-solid fa-circle-xmark"></i></span>
        <p style="margin: 0; font-size: var(--font-size-lg); font-weight: var(--font-weight-semibold); text-align: center; line-height: 1.6; color: var(--accent-color-2);">
          ${e||"Oops! Terjadi kesalahan. Silakan coba lagi."}
        </p>
      `,t.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(n,5e3))}function n(){e&&(e.classList.add("hidden"),e.style.display="none"),t&&(t.classList.add("hidden"),t.style.display="none")}const o=document.getElementById("email");o&&(o.addEventListener("blur",function(){this.value&&!a(this.value)?this.style.borderColor="#ef4444":this.style.borderColor=""}),o.addEventListener("input",function(){this.style.borderColor=""}));const i=document.getElementById("message");i&&(i.addEventListener("blur",function(){this.value.trim()?this.style.borderColor="":this.style.borderColor="#ef4444"}),i.addEventListener("input",function(){this.style.borderColor=""}))})